<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Portfolio</title>
<style>
  body { 
    margin: 0; 
    background: #111; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
  }

  img { 
    display: block; 
    width: 100%; 
    max-width: 900px; /* desktop max width */
    height: auto; 
    margin: 0 auto; 
    opacity: 0; /* fade-in */
    transition: opacity 0.5s ease;
  }

  /* Navigation buttons hidden by default (mobile-first) */
  .nav-btn { display: none; }

  /* Show buttons on desktop only */
  @media (min-width: 768px) {
    .nav-btn {
      display: flex;
      justify-content: center;
      align-items: center;
      position: fixed;
      right: 30px;
      width: 50px;
      height: 50px;
      background: rgba(255,255,255,0.85);
      border-radius: 50%;
      cursor: pointer;
      font-size: 24px;
      font-weight: bold;
      color: #333;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      user-select: none;
      transition: transform 0.2s, background 0.2s;
      z-index: 999;
    }
    .nav-btn:hover { background: white; transform: scale(1.1); }
    #upBtn { bottom: 90px; }
    #downBtn { bottom: 30px; }
  }
</style>
</head>
<body>

<div id="container"></div>

<!-- Navigation buttons -->
<div id="upBtn" class="nav-btn">⬆</div>
<div id="downBtn" class="nav-btn">⬇</div>

<script>
const container = document.getElementById("container");
const totalPages = 200; // <-- change to your actual total pages
const images = [];

// Create all img elements without src
for (let i = 1; i <= totalPages; i++) {
  const num = String(i).padStart(3,'0'); // adjust to your filenames
  const img = document.createElement("img");
  img.dataset.src = `page-${num}.png`;
  img.alt = `Page ${i}`;
  container.appendChild(img);
  images.push(img);
}

// Function to load an image
function loadImage(img) {
  if (!img.src) {
    img.src = img.dataset.src;
    img.onload = () => img.style.opacity = 1;
  }
}

// Sequential priority loading
let currentIndex = 0;
function loadNextImage() {
  if (currentIndex >= images.length) return;
  loadImage(images[currentIndex]);
  currentIndex++;
  // load next image after a short delay to allow progressive loading
  setTimeout(loadNextImage, 50); // adjust delay (ms) for faster/slower loading
}

// Start sequential loading
loadNextImage();

// Navigation buttons
const upBtn = document.getElementById("upBtn");
const downBtn = document.getElementById("downBtn");

function scrollByPage(direction) {
  const scrollPos = window.scrollY;
  const imgs = [...images];
  let index = imgs.findIndex(img =>
    img.offsetTop + img.height > scrollPos + 50
  );
  if (index === -1) index = imgs.length - 1;

  let newIndex = direction === "down" ? index + 1 : index - 1;
  if (newIndex < 0) newIndex = 0;
  if (newIndex >= imgs.length) newIndex = imgs.length - 1;

  imgs[newIndex].scrollIntoView({ behavior: "smooth" });
}

upBtn.addEventListener("click", () => scrollByPage("up"));
downBtn.addEventListener("click", () => scrollByPage("down"));

// Keyboard navigation
document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowUp") { scrollByPage("up"); e.preventDefault(); }
  if (e.key === "ArrowDown") { scrollByPage("down"); e.preventDefault(); }
});
</script>
</body>
</html>
